<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Inquiry / Contact | nihongotext.com</title>

  <link rel="icon" href="/favicon.ico" />
  <link rel="icon" type="image/png" href="/icon-512.png" sizes="512x512" />
  <link rel="apple-touch-icon" href="/icon-512.png" sizes="512x512" />
  <meta name="theme-color" content="#b22222" />

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9QSHWJE0HZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-9QSHWJE0HZ', { send_page_view: false });
  </script>

  <style>
    :root{
      --shu:#e6462d;
      --ink:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --bg:#f9fafb;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic UI","Meiryo",sans-serif;
      color:var(--ink);
      background:#fff;
    }
    a{color:inherit;text-decoration:none}
    button{cursor:pointer}

    .wrap{max-width:960px;margin:0 auto;padding:0 16px}

    /* ãƒ˜ãƒƒãƒ€ãƒ¼å…¨ä½“ */
    .topbar{
      border-top:4px solid var(--shu);
      border-bottom:1px solid #fde3df;
      background:#fff;
    }
    #header{max-width:1100px;margin:0 auto;padding:10px 16px;}

    /* è¨€èªãƒˆã‚°ãƒ«ï¼ˆã“ã“ã§ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’çµ±ä¸€ï¼‰ */
    .lang-wrap{
      display:flex;
      justify-content:flex-end;
      margin-top:6px;
    }
    #langBtn{
      margin-left:auto;
      border:1px solid var(--shu);
      background:#fff;
      color:var(--shu);
      border-radius:999px;
      padding:6px 14px;
      font-size:13px;
      font-weight:600;
      cursor:pointer;
      transition:background .15s,color .15s,border-color .15s;
    }
    #langBtn:hover{
      background:var(--shu);
      color:#fff;
      border-color:var(--shu);
    }

    main{padding:32px 0 40px}
    h1{
      font-size:26px;
      display:flex;
      align-items:center;
      gap:8px;
      margin-bottom:8px;
    }
    h1 .icon{
      width:26px;
      height:26px;
      border-radius:50%;
      background:var(--shu);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-size:14px;
    }
    .lead{
      color:var(--muted);
      font-size:14px;
      margin-bottom:24px;
    }

    .card{
      max-width:720px;
      border:1px solid var(--line);
      border-radius:14px;
      background:#fff;
      padding:24px 24px 20px;
      box-shadow:0 10px 25px rgba(15,23,42,.06);
    }
    .field{
      margin-bottom:14px;
    }
    .field label{
      display:block;
      font-size:13px;
      font-weight:600;
      margin-bottom:4px;
    }
    .field label span.req{
      color:#e11d48;
      margin-left:3px;
    }
    .field input,
    .field textarea{
      width:100%;
      border-radius:10px;
      border:1px solid var(--line);
      padding:10px 12px;
      font:inherit;
      background:#f9fafb;
    }
    .field textarea{
      min-height:140px;
      resize:vertical;
    }
    .help{
      font-size:11px;
      color:var(--muted);
      margin-top:4px;
    }

    .actions{
      display:flex;
      justify-content:flex-end;
      gap:10px;
      margin-top:18px;
    }
    .btn{
      border-radius:999px;
      padding:8px 20px;
      font-size:14px;
      font-weight:600;
      border:1px solid #d1d5db;
      background:#fff;
      color:var(--ink);
    }
    .btn-primary{
      border-color:var(--shu);
      background:var(--shu);
      color:#fff;
    }

    .footer{
      border-top:1px solid #fde3df;
      background:#fff;
      padding:18px 0 20px;
      font-size:12px;
      color:#9ca3af;
    }
    .footer-nav{
      display:flex;
      justify-content:center;
      gap:16px;
      margin-top:6px;
    }
    .footer-icons{
      display:flex;
      justify-content:center;
      gap:10px;
      margin-top:8px;
      font-size:16px;
    }

    .note{
      font-size:11px;
      color:var(--muted);
      margin-top:8px;
    }
  </style>
</head>
<body>
  <!-- å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <div class="topbar">
    <header id="header"></header>
  </div>

  <main>
    <section class="wrap">
      <h1>
        <span class="icon">âœ‰</span>
        <span id="title-en">Inquiry / Contact</span>
        <span id="title-ja" style="display:none;">ãŠå•ã„åˆã‚ã›</span>
      </h1>
      <p class="lead" id="lead-en">
        Please feel free to ask any questions or send feedback about nihongotext.com.
      </p>
      <p class="lead" id="lead-ja" style="display:none;">
        nihongotext.com ã«é–¢ã™ã‚‹ã”è³ªå•ã‚„ã”æ„è¦‹ãŒã‚ã‚Šã¾ã—ãŸã‚‰ã€ã“ã¡ã‚‰ã‹ã‚‰ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚
      </p>

      <div class="card">
        <form id="inqForm">
          <div class="field">
            <label id="label-name-en">Name <span class="req">*</span></label>
            <label id="label-name-ja" style="display:none;">ãŠãªã¾ãˆ / Name <span class="req">*</span></label>
            <input type="text" name="name" required />
          </div>

          <div class="field">
            <label id="label-email-en">Email <span class="req">*</span></label>
            <label id="label-email-ja" style="display:none;">ãƒ¡ãƒ¼ãƒ« / Email <span class="req">*</span></label>
            <input type="email" name="email" required />
            <p class="help" id="help-email-en">
              We will only use your email address to reply to your inquiry.
            </p>
            <p class="help" id="help-email-ja" style="display:none;">
              ã”å…¥åŠ›ã„ãŸã ã„ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã€ãŠå•ã„åˆã‚ã›ã¸ã®è¿”ä¿¡ã®ã¿ã«ä½¿ç”¨ã—ã¾ã™ã€‚
            </p>
          </div>

          <div class="field">
            <label id="label-subject-en">Subject <span class="req">*</span></label>
            <label id="label-subject-ja" style="display:none;">ä»¶å / Subject <span class="req">*</span></label>
            <input type="text" name="subject" required />
          </div>

          <div class="field">
            <label id="label-message-en">Message <span class="req">*</span></label>
            <label id="label-message-ja" style="display:none;">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ / Message <span class="req">*</span></label>
            <textarea name="message" required></textarea>
            <p class="help" id="help-message-en">
              You can write in English or Japanese.
            </p>
            <p class="help" id="help-message-ja" style="display:none;">
              æ—¥æœ¬èªã§ã‚‚è‹±èªã§ã‚‚ã”è¨˜å…¥ã„ãŸã ã‘ã¾ã™ã€‚
            </p>
          </div>

          <!-- reCAPTCHA v2 -->
          <div class="field">
            <div class="g-recaptcha" data-sitekey="YOUR_RECAPTCHA_V2_SITE_KEY"></div>
          </div>

          <p class="note" id="note-en">
            Please do not include passwords or highly confidential information.
          </p>
          <p class="note" id="note-ja" style="display:none;">
            ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã®æ©Ÿå¯†æƒ…å ±ã¯è¨˜è¼‰ã—ãªã„ã‚ˆã†ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚
          </p>

          <div class="actions">
            <button type="reset" class="btn" id="btn-clear-en">Clear</button>
            <button type="reset" class="btn" id="btn-clear-ja" style="display:none;">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>

            <button type="submit" class="btn btn-primary" id="btn-send-en">Send</button>
            <button type="submit" class="btn btn-primary" id="btn-send-ja" style="display:none;">é€ä¿¡</button>
          </div>
        </form>
      </div>
    </section>
  </main>

  <!-- å…±é€šãƒ•ãƒƒã‚¿ãƒ¼ -->
  <footer class="footer">
    <div id="footer" class="wrap">
      <div style="text-align:center;">Â© nihongotext.com</div>
      <nav class="footer-nav">
        <a href="/">Home</a>
        <a href="/blog/">Blog</a>
        <a href="/inquiry/">Inquiry</a>
        <a href="/legal.html">Legal</a>
        <a href="/privacy.html">Privacy</a>
      </nav>
      <div class="footer-icons">
        <a href="https://x.com/nihongotext" target="_blank" rel="noopener">âœ•</a>
        <a href="https://reddit.com/r/nihongotext" target="_blank" rel="noopener">â¬¤</a>
        <a href="https://ko-fi.com/nihongotext" target="_blank" rel="noopener">â˜•</a>
        <a href="https://nihongotext.com" target="_blank" rel="noopener">ğŸ“•</a>
      </div>
    </div>
  </footer>

  <!-- reCAPTCHA v2 -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼å…±é€šã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
  <script>
    // ========= è¨€èªçŠ¶æ…‹ =========
    function getLang(){
      return localStorage.getItem('nt_lang') || 'en';
    }
    function setLang(v){
      localStorage.setItem('nt_lang', v);
    }

    // ========= ãƒ˜ãƒƒãƒ€ãƒ¼èª­ã¿è¾¼ã¿ =========
    async function loadPartials(){
      try{
        const res = await fetch('/partials/header.html',{cache:'no-store'});
        if(!res.ok) throw new Error('header load failed');
        const html = await res.text();
        const hdr = document.getElementById('header');
        hdr.innerHTML = html;

        ensureLangButton(hdr);
        hookLearningButtons();   // â† Inquiry ã§ã¯ Learning / Learned ã‚’éè¡¨ç¤º
        initLang();
      }catch(e){
        console.error(e);
        const hdr = document.getElementById('header');
        hdr.innerHTML =
          '<div style="display:flex;align-items:center;gap:10px;justify-content:space-between;">'
          + '<a href="/" style="font-weight:900;font-size:28px;color:#e6462d;text-decoration:none;">nihongotext<span style="color:#111">.com</span></a>'
          + '<div class="lang-wrap"><button id="langBtn" type="button">English</button></div>'
          + '</div>';
        ensureLangButton(document);
        initLang();
      }
    }

    // ========= è¨€èªãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã®è¿½åŠ  =========
    function ensureLangButton(root){
      if(!root) root = document;
      let btn = root.querySelector('#langBtn');
      if(!btn){
        const hdr = root.querySelector('#header') || root.body || root;
        const wrap = document.createElement('div');
        wrap.className = 'lang-wrap';
        btn = document.createElement('button');
        btn.id = 'langBtn';
        btn.type = 'button';
        wrap.appendChild(btn);
        hdr.appendChild(wrap);
      }
      // ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ã‚µã‚¤ãƒˆå…±é€šã®èµ¤ãƒ™ãƒ¼ã‚¹ã«çµ±ä¸€
      btn.style.cssText =
        'margin-left:auto;border:1px solid #e6462d;background:#fff;color:#e6462d;border-radius:999px;padding:6px 14px;font-size:13px;font-weight:600;cursor:pointer;';
      btn.onclick = toggleLang;
    }

    // ========= Learning / Learned ã‚’éè¡¨ç¤ºã«ã™ã‚‹ã ã‘ =========
    function hookLearningButtons(){
      const hdr = document.getElementById('header');
      if (!hdr) return;
      const toHide = hdr.querySelectorAll('#learnBtn, #learnedBtn, [data-open="learning"], [data-open="learned"]');
      toHide.forEach(el => { el.style.display = 'none'; });
    }

    // ========= è¨€èªã®é©ç”¨ =========
    function applyLang(){
      const lang = getLang();
      const isJa = lang === 'ja';

      const pairs = [
        ['title-en','title-ja'],
        ['lead-en','lead-ja'],
        ['label-name-en','label-name-ja'],
        ['label-email-en','label-email-ja'],
        ['label-subject-en','label-subject-ja'],
        ['label-message-en','label-message-ja'],
        ['help-email-en','help-email-ja'],
        ['help-message-en','help-message-ja'],
        ['note-en','note-ja'],
        ['btn-clear-en','btn-clear-ja'],
        ['btn-send-en','btn-send-ja'],
      ];
      pairs.forEach(([enId,jaId])=>{
        const en = document.getElementById(enId);
        const ja = document.getElementById(jaId);
        if(!en || !ja) return;
        if(isJa){ en.style.display='none'; ja.style.display='block'; }
        else    { en.style.display='block'; ja.style.display='none'; }
      });

      const btn = document.getElementById('langBtn');
      if(btn) btn.textContent = isJa ? 'English' : 'æ—¥æœ¬èª';

      document.documentElement.lang = isJa ? 'ja' : 'en';
      document.title = isJa
        ? 'ãŠå•ã„åˆã‚ã› | nihongotext.com'
        : 'Inquiry / Contact | nihongotext.com';
    }

    function initLang(){
      applyLang();
    }
    function toggleLang(){
      const next = getLang()==='ja' ? 'en' : 'ja';
      setLang(next);
      applyLang();
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      loadPartials();
      initLang();

      // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆå´ã§ã¯ãã®ã¾ã¾é€ä¿¡ï¼‰
      document.getElementById('inqForm').addEventListener('submit', function(e){
        // ã“ã“ã§ã¯ç‰¹ã« JS å´ã§é€ä¿¡å‡¦ç†ã‚’æ›¸ã‹ãšã€æ—¢å­˜ã® Apps Script / ã‚µãƒ¼ãƒãƒ¼å´å‡¦ç†ã«ä»»ã›ã¾ã™ã€‚
      });
    });
  </script>
</body>
</html>
