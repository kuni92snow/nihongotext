<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact | nihongotext.com</title>
  <meta name="color-scheme" content="light only" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9QSHWJE0HZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-9QSHWJE0HZ');
  </script>

  <style>
    :root{
      --shu:#e6462d;--shu-deep:#c13727;--shu-tint:#fff2ef;
      --shu-soft:#ffb9aa;--white:#fff;--ink:#1f2937;
      --muted:#6b7280;--border:#efdfdc;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,"Noto Sans JP",sans-serif;color:var(--ink);background:#fff}
    a{text-decoration:none;color:inherit}

    /* Header */
    header{border-bottom:3px solid var(--shu);background:#fff;position:sticky;top:0;z-index:20}
    .h-row{display:flex;justify-content:space-between;align-items:center;padding:10px 16px}
    .brand{display:flex;flex-direction:column}
    .brand-title{font-size:28px;font-weight:900;color:var(--shu)}
    .brand-sub{font-size:12px;color:var(--shu-soft)}
    .iconbar{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;padding:6px 0 10px}
    .iconbar .tool{display:inline-flex;align-items:center;justify-content:center;width:38px;height:38px;
      border-radius:50%;border:1px solid var(--border);background:#fff}
    .iconbar .tool i{color:var(--shu)}
    .iconbar .tool:hover{border-color:var(--shu)}
    .lang-toggle{padding:6px 10px;border:1px solid var(--border);border-radius:6px;background:#fff;color:var(--shu-deep);cursor:pointer;font-size:13px}

    /* Main */
    main{max-width:980px;margin:20px auto;padding:0 16px}
    h1{font-size:26px;margin:0 0 16px}
    label{display:block;margin:10px 0 4px;font-size:13px;color:var(--muted)}
    input,textarea{width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;font:inherit}
    textarea{min-height:160px;resize:vertical}
    .row{display:flex;gap:10px;margin-top:12px;align-items:center;flex-wrap:wrap}
    .btn{padding:10px 16px;border-radius:8px;cursor:pointer}
    .btn.primary{background:var(--shu);border:1px solid var(--shu);color:#fff}
    .btn.secondary{background:#fff;border:1px solid var(--shu);color:var(--shu)}
    .note{font-size:12px;color:var(--muted);margin-top:6px}

    /* Footer */
    footer{border-top:3px solid var(--shu);background:#fff;margin-top:30px}
    .f-row{display:flex;flex-direction:column;align-items:center;gap:8px;padding:12px 0}
    .copy{color:#6b7280;font-size:13px}

    /* i18n visibility */
    .lang{display:none}
    .lang.show{display:inline}
    .block .lang.show{display:block}
    ruby{ruby-position:over}
    rt{font-size:0.7em;color:#777;letter-spacing:0.03em}
  </style>
</head>

<body>
  <!-- ===== Header ===== -->
  <header>
    <div class="h-row">
      <div class="brand">
        <a href="/">
          <div class="brand-title">nihongotext<span style="color:var(--shu-deep)">.com</span></div>
          <div class="brand-sub">== beta version ==</div>
        </a>
      </div>
      <button class="lang-toggle" id="langBtn" aria-label="Switch language">日本語</button>
    </div>

    <div class="iconbar">
      <a class="tool" href="/blog/" title="Blog"><i class="fas fa-bell"></i></a>
      <a class="tool" href="/inquiry/" title="Contact"><i class="fas fa-envelope"></i></a>
      <a class="tool" target="_blank" href="https://reddit.com/r/nihongotext" title="Reddit"><i class="fab fa-reddit"></i></a>
      <a class="tool" target="_blank" href="https://medium.com/@nihongotext" title="Medium"><i class="fab fa-medium"></i></a>
      <a class="tool" target="_blank" href="https://substack.com/@nihongotext" title="Substack"><i class="fas fa-envelope-open-text"></i></a>
    </div>
  </header>

  <!-- ===== Main ===== -->
  <main>
    <h1>
      <span class="lang en show" data-key="title">Contact</span>
      <span class="lang ja"><ruby><rb>お問い合わせ</rb><rt>おといあわせ</rt></ruby></span>
    </h1>

    <!-- action: あなたのGAS（または今使っている）URLに合わせてください -->
    <form id="contactForm"
          action="https://script.google.com/macros/s/AKfycbzHvm3JmrYzJChzIPJJIR7PsAMmMOaPBKXVEyBXLeLQ_7mMrhCOJ_DdWxE75TVxWwWZvQ/exec"
          method="POST" target="hidden_iframe" novalidate>
      <!-- Name -->
      <label class="block">
        <span class="lang en show">Name</span>
        <span class="lang ja"><ruby><rb>お名前</rb><rt>おなまえ</rt></ruby></span>
      </label>
      <input name="name" required
             data-ph-en="Your name"
             data-ph-ja="お名前を入力してください" />

      <!-- Email -->
      <label class="block" style="margin-top:10px">
        <span class="lang en show">Email</span>
        <span class="lang ja"><ruby><rb>メール</rb><rt>めーる</rt></ruby> <ruby><rb>アドレス</rb><rt>あどれす</rt></ruby></span>
      </label>
      <input name="email" type="email" required
             data-ph-en="your@email.com"
             data-ph-ja="メールアドレスを入力してください" />

      <!-- Subject -->
      <label class="block" style="margin-top:10px">
        <span class="lang en show">Subject</span>
        <span class="lang ja"><ruby><rb>件名</rb><rt>けんめい</rt></ruby></span>
      </label>
      <input name="subject" required
             data-ph-en="What is this about?"
             data-ph-ja="件名を入力してください" />

      <!-- Message -->
      <label class="block" style="margin-top:10px">
        <span class="lang en show">Message</span>
        <span class="lang ja"><ruby><rb>メッセージ</rb><rt>めっせーじ</rt></ruby></span>
      </label>
      <textarea name="message" required
                data-ph-en="Write your message..."
                data-ph-ja="メッセージを入力してください"></textarea>

      <div class="row">
        <button type="reset" class="btn secondary">
          <span class="lang en show">Cancel</span>
          <span class="lang ja"><ruby><rb>キャンセル</rb><rt>きゃんせる</rt></ruby></span>
        </button>
        <button type="submit" class="btn primary">
          <span class="lang en show">Send</span>
          <span class="lang ja"><ruby><rb>送信</rb><rt>そうしん</rt></ruby></span>
        </button>
      </div>
      <div class="note" id="resultMsg"></div>
    </form>

    <iframe name="hidden_iframe" style="display:none"></iframe>
  </main>

  <!-- ===== Footer ===== -->
  <footer>
    <div class="f-row">
      <div class="iconbar">
        <a class="tool" href="/blog/" title="Blog"><i class="fas fa-bell"></i></a>
        <a class="tool" href="/inquiry/" title="Contact"><i class="fas fa-envelope"></i></a>
        <a class="tool" target="_blank" href="https://reddit.com/r/nihongotext" title="Reddit"><i class="fab fa-reddit"></i></a>
        <a class="tool" target="_blank" href="https://medium.com/@nihongotext" title="Medium"><i class="fab fa-medium"></i></a>
        <a class="tool" target="_blank" href="https://substack.com/@nihongotext" title="Substack"><i class="fas fa-envelope-open-text"></i></a>
      </div>
      <div class="copy">© 2025 nihongotext.com</div>
    </div>
  </footer>

  <script>
    // --- helpers ---
    const qs = (s,root=document)=>root.querySelector(s);
    const qsa= (s,root=document)=>[...root.querySelectorAll(s)];
    const getParam = (k)=> new URL(location.href).searchParams.get(k);

    function setPlaceholders(lang){
      qsa('input,textarea').forEach(el=>{
        const val = el.getAttribute(lang==='en'?'data-ph-en':'data-ph-ja');
        if(val) el.placeholder = val;
      });
    }
    function showLang(lang){
      // toggle html lang + title
      document.documentElement.lang = (lang==='ja' ? 'ja' : 'en');
      document.title = (lang==='ja' ? 'お問い合わせ | nihongotext.com' : 'Contact | nihongotext.com');

      // show/hide text
      qsa('.lang').forEach(el=>el.classList.remove('show'));
      qsa('.lang.'+lang).forEach(el=>el.classList.add('show'));

      // button label shows the other option
      const btn = qs('#langBtn');
      btn.textContent = (lang==='ja' ? 'English' : '日本語');

      // placeholders
      setPlaceholders(lang);

      // remember choice
      try{ localStorage.setItem('nt_lang', lang); }catch(e){}
    }

    // initial language: URL param > localStorage > default(en)
    (function initLang(){
      const fromUrl = getParam('lang');
      const stored  = (()=>{try{return localStorage.getItem('nt_lang')}catch(e){return null}})();
      const lang = (fromUrl==='ja'||fromUrl==='en') ? fromUrl : (stored||'en');
      showLang(lang);
    })();

    // toggle button
    qs('#langBtn').addEventListener('click', ()=>{
      const current = document.documentElement.lang==='ja' ? 'ja' : 'en';
      showLang(current==='ja' ? 'en' : 'ja');
    });

    // submit UX（送信結果の軽い通知）
    const form = qs("#contactForm");
    const msg  = qs("#resultMsg");
    form.addEventListener("submit", ()=>{
      const lang = document.documentElement.lang;
      msg.textContent = (lang==='ja')
        ? "送信しました。ありがとうございます。"
        : "Message sent successfully. Thank you!";
      setTimeout(()=>{ msg.textContent=""; }, 4000);
    });
  </script>
</body>
</html>
